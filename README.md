# qmetry-test-management-gradle-plugin
QMetry Test Management plugin for Gradle has been designed to seamlessly integrate your CI/CD pipeline with QMetry.

QTMGradlePlugin uploads result file(s) generated in a Gradle project to QTM Enterprise server. The plugin, if used in a gradle project, provides an additional gradle task 'qtmUploadResults'

## To use the plugin,

Use the plugin from anywhere in your gradle project, by including the following code in 'build.gradle' file...
```
plugins
{
    id 'com.qmetry.QTMGradlePlugin' version '1.2'
}

qtmConfig
{
	qtmUrl='https://testmanagement.qmetdry.com/'
	qtmAutomationApiKey='zEzs7iy77D8ARWX8xMFzJRZTzb66W0LCyaK6xdec'
	automationFramework='JUNIT'
	testResultFilePath='/test-results/test/TEST-ispl.sample.AppSecondTest.xml'
	automationHierarchy='1'
	testSuiteId='STR-TS-01'
	testSuiteName='Demo Testsuite'
	project='Demo Project'
	platform='Chrome'
	release='Default Release'
	cycle='Default Cycle'
	build='Demo Build'
}

```

Use the following command from your project.
```
gradle test qtmUploadResults
```

...or alternatively, use the executable jar file (generated by command 'gradle clean build') directly as a dependency in your Gradle project 'build.gradle' file.

The task publishResultsToQTM always looks for qtmConfig in build.gradle file of your project. Provide following details :-

* **qtmUrl** - Url to QMetry Test Management instance
* **qtmAutomationApiKey** - Automation Key
* **automationFramework** - JUNIT/TESTNG/CUCUMBER/QAS/HPUFT
* **testResultFilePath** - Path to result file (or directory for multiple files) relative to build directory
* **automationHierarchy (optional)** - Hierarchy which will be used to parse test result files on QTM for JUnit and TestNG (In case of other frameworks automationHierarchy will be skipped if provided)
  * JUnit 
    * 1 - Use current Hierarchy in which JUnit Testcase is treated as TestStep and Testsuite is treated as Testcase
    * 2 - Use Junit Testcase as Testcase and link all those (from all testsuites and all files of Junit) to one Testsuite
    * 3 - Create Multiple Testsuites and then link their respective testcases in corresponding Testsuites
  * TestNG
    * 1 - Use class as Testcase and test-method as TestStep
    * 2 - Use test-method as Testcase
* **testSuiteId (optional)** - Id or Entity key of the test suite (This will upload results to existing test suite)
* **testSuiteName (Optional)** - Test suite name (This will create a new test suite with given name)
* **project** - Project Id or Project Key or Project name
* **platform (Optional)** - Platform Id or Platform Name
* **release (Optional)** - Release Id or Release name
* **cycle (Optional)** - Cycle Id or Cycle Name
* **build (Optional)** - Build Id or Build name